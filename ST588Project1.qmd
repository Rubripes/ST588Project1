---
title: | 
     | ST588Homework4
     | Matt Bray
     | Tyler Hunt
format: html
code-overflow: wrap
editor: visual
---

# Install tidy Census/Load library for API Package

## Notes for user: you should load the packages below if not loaded on your machine, and install the libraries as specified below.

```{r}
library("tidyverse")
library("censusapi")
library("tidycensus")
```

# Check names *can be removed from final project, or kept to help user find columns of interest*

```{r}
nameList <- listCensusMetadata(
  "acs/acs1/pums",
  vintage = 2022,
  type = "variables",
  include_values = FALSE
)
nameLista <- as_tibble(nameList)
head(nameLista) 
```

# Save Census Key

# User should define variable aKey with key generated from Census API key generator: https://api.census.gov/data/key_signup.html

## See help documentation for tidycensus package here: https://walker-data.com/tidycensus/reference/census_api_key.html

```{r}
census_api_key(key="b8bf07f35eb3e0d8ab1f95f20172b2ff62eb4514", overwrite = FALSE, install = TRUE)
```

# Get data from Census API for State:17

```{r}
censusData <- getCensus(name="acs/acs1/pums", vintage = 2022, key = Sys.getenv("CENSUS_API_KEY") , vars = c("PWGTP", "AGEP", "GASP", "GRPIP", "JWAP", "JWDP", "JWMNP"), regionin="state:17")

censusTbl<-as_tibble(censusData)
```

##Visualize Structure of censusData *can be removed from final project*

```{r}
head(censusTbl)
length(censusTbl$PWGTP)
```
